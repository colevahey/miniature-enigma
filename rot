#!/usr/bin/env python3
 
import colors as c
import random
from sys import argv
from os import system

def randomnumber():
    num = random.randint(0,95)
    if num < 10:
        charcount = "0" + str(num)
    else:
        charcount = str(num)
    return charcount

def ask_message():
    message = input("What is your message? >> ")
    rot(message, randomnumber())

def rot(message, charcount):
    if not message.startswith("#"):
        final = "#" + str(charcount)
        for c in message:
            newchr = ord(c) + int(charcount)
            if newchr > 126:
                newchr -= 95
            elif ord(c) < 32:
                print("That character is not supported")
            else:
                pass
            final += chr(newchr)
        print(final)
    else:
        final = ""
        charcount = int(message[1] + message[2])
        nmessage = message[3:]
        for c in nmessage:
            newchr = ord(c) - int(charcount)
            if newchr < 32:
                newchr += 95
            else:
                pass
            final += chr(newchr)
        print(final)

if __name__ == '__main__':
    if len(argv) == 1:
        ask_message()
    elif len(argv) >= 2:
        if argv[1] == '-m':
            if len(argv) == 2:
                print("You need to include a message")
            elif len(argv) == 3:
                rot(argv[2],randomnumber())
            else:
                print("Surround your message in quotes")
        elif argv[1] == '-k':
            pass
        elif argv[1] == '-h':
            #help
            pass
        else:
            print("That is not an acceptable input. To see help type 'rot -h'")
    else:
        pass
